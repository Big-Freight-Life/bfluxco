<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mobile Nav Preview — BFLUXCO</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* === Inline the relevant CSS variables === */
:root {
    --color-primary: #14B8A6;
    --color-primary-dark: #0D9488;
    --color-primary-light: #2DD4BF;
    --color-white: #ffffff;
    --color-black: #000000;
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-200: #e5e7eb;
    --color-gray-300: #d1d5db;
    --color-gray-400: #9ca3af;
    --color-gray-500: #6b7280;
    --color-gray-600: #4b5563;
    --color-gray-700: #374151;
    --color-gray-800: #1f2937;
    --color-gray-900: #111827;
    --btn-primary-bg: #007AFF;
    --btn-primary-hover: #0056CC;
    --btn-primary-text: #ffffff;
    --btn-tertiary-bg: rgba(0, 0, 0, 0.06);
    --font-family-primary: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-3: 0.75rem;
    --spacing-4: 1rem;
    --spacing-5: 1.25rem;
    --spacing-6: 1.5rem;
    --spacing-8: 2rem;
    --spacing-10: 2.5rem;
    --spacing-12: 3rem;
    --spacing-16: 4rem;
    --spacing-20: 5rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --radius-3xl: 1.5rem;
    --radius-full: 9999px;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --motion-micro: 200ms;
    --motion-fast: 300ms;
    --motion-normal: 400ms;
    --motion-smooth: 500ms;
    --ease-out-expo: cubic-bezier(0.22, 1, 0.36, 1);
    --z-fixed: 300;
    --z-modal-backdrop: 400;
    --z-modal: 500;
    --touch-target-min: 44px;
    --letter-spacing-wider: 0.05em;

    --bg-primary: var(--color-white);
    --bg-secondary: var(--color-gray-50);
    --bg-tertiary: var(--color-gray-100);
    --bg-inverse: var(--color-gray-900);
    --text-primary: var(--color-gray-900);
    --text-secondary: var(--color-gray-700);
    --text-tertiary: var(--color-gray-600);
    --text-muted: var(--color-gray-500);
    --text-inverse: var(--color-white);
    --border-primary: var(--color-gray-200);
    --border-secondary: var(--color-gray-300);
    --surface-card: var(--color-white);
    --surface-elevated: var(--color-white);
    --header-bg: var(--color-white);
    --header-text: var(--color-gray-900);
    --hover-bg: var(--color-gray-100);
    --active-bg: var(--color-gray-200);
    --bg-primary-rgb: 255, 255, 255;
    --tab-bar-height: 64px;
}

/* Dark mode */
[data-theme="dark"] {
    --bg-primary: #121212;
    --bg-secondary: #1a1a1a;
    --bg-tertiary: #252525;
    --text-primary: #d4d4d4;
    --text-secondary: #a3a3a3;
    --text-tertiary: #737373;
    --text-muted: #525252;
    --border-primary: #303030;
    --border-secondary: #454545;
    --surface-card: #1a1a1a;
    --surface-elevated: #252525;
    --header-bg: #121212;
    --hover-bg: #1f1f1f;
    --active-bg: #2a2a2a;
    --bg-primary-rgb: 18, 18, 18;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.4);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.4);
    --btn-primary-bg: #0A84FF;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: var(--font-family-primary);
    background: var(--bg-primary);
    color: var(--text-primary);
    padding-bottom: calc(var(--tab-bar-height) + env(safe-area-inset-bottom, 0px));
    -webkit-font-smoothing: antialiased;
}
a { text-decoration: none; color: inherit; }

/* Fake header */
.site-header {
    position: sticky; top: 0; z-index: 200;
    background: var(--header-bg);
    border-bottom: 1px solid var(--border-primary);
    padding: 0 var(--spacing-4);
    height: 56px; display: flex; align-items: center;
}
.site-header .logo { font-weight: var(--font-weight-bold); font-size: var(--font-size-lg); }
.site-header .logo-sub { color: var(--text-tertiary); font-weight: var(--font-weight-normal); margin-left: 0.5em; }

/* Fake content */
.content-section {
    padding: var(--spacing-8) var(--spacing-4);
    border-bottom: 1px solid var(--border-primary);
}
.content-section h2 {
    font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold);
    margin-bottom: var(--spacing-4); letter-spacing: -0.02em;
}
.content-section p { color: var(--text-secondary); line-height: 1.7; margin-bottom: var(--spacing-4); font-size: var(--font-size-lg); }
.content-card {
    background: var(--bg-tertiary); border-radius: var(--radius-xl);
    padding: var(--spacing-6); margin-bottom: var(--spacing-4);
    border: 1px solid var(--border-primary);
}
.content-card h3 { font-size: var(--font-size-xl); margin-bottom: var(--spacing-2); }
.content-card p { font-size: var(--font-size-lg); color: var(--text-tertiary); line-height: 1.7; }
.hero-section {
    background: linear-gradient(135deg, #0f172a, #1e293b);
    color: white; padding: var(--spacing-16) var(--spacing-4);
    text-align: center;
}
.hero-section h1 { font-size: var(--font-size-2xl); margin-bottom: var(--spacing-4); }
.hero-section p { color: rgba(255,255,255,0.7); margin-bottom: var(--spacing-6); font-size: var(--font-size-lg); line-height: 1.7; }
.btn-primary {
    display: inline-block; background: var(--btn-primary-bg); color: white;
    padding: var(--spacing-3) var(--spacing-6); border-radius: var(--radius-full);
    font-weight: var(--font-weight-semibold); font-size: var(--font-size-sm);
}

/* === Carousel — matches live site style.css exactly === */
:root {
    --container-max-width: 1400px;
    --container-padding: var(--spacing-4);
    --card-carousel-width: 85vw;
}

.case-carousel {
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none;
    -ms-overflow-style: none;
    scroll-behavior: smooth;
    outline: none;
}
.case-carousel::-webkit-scrollbar { display: none; }

.case-carousel-track {
    --carousel-inset: var(--container-padding);
    display: flex;
    gap: var(--spacing-4);
    padding-left: var(--carousel-inset);
    padding-right: var(--spacing-4);
    padding-top: var(--spacing-4);
    padding-bottom: var(--spacing-8);
}

/* --- Case Card (desktop default: 16/9, overlay text) --- */
.case-card {
    flex: 0 0 auto;
    width: var(--card-carousel-width, 85vw);
    max-width: 939px;
    aspect-ratio: 16 / 9;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: var(--spacing-5);
    overflow: hidden;
    background-color: var(--surface-card);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    border: none;
    border-radius: 12px;
    text-decoration: none;
    color: inherit;
    cursor: pointer;
    position: relative;
    transition: transform var(--motion-fast) var(--ease-out-expo),
                box-shadow var(--motion-fast) var(--ease-out-expo);
}

/* Image element — hidden on desktop (uses bg image) */
.case-card-image {
    display: none;
}

/* Dark overlay for readability */
.case-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.85) 100%);
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
}

.case-card-content {
    flex-shrink: 0;
    max-width: 600px;
    position: relative;
    z-index: 1;
}

.case-label {
    display: inline-block;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 12px;
}

.case-title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    line-height: 1.35;
    margin-bottom: 12px;
    letter-spacing: -0.01em;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.case-excerpt {
    font-size: var(--font-size-sm);
    color: var(--text-primary);
    line-height: 1.7;
    margin-bottom: 16px;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.case-meta {
    display: flex;
    gap: var(--spacing-4);
    font-size: var(--font-size-base);
    color: var(--text-secondary);
}

/* Lock icon */
.case-card-lock {
    position: absolute;
    top: 16px;
    right: 16px;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: rgba(0, 0, 0, 0.6);
    border-radius: 50%;
    color: #ffffff;
    line-height: 1;
}

/* === Mobile Cards (≤480px) — image on top, text below === */
@media (max-width: 480px) {
    .case-carousel-track {
        gap: 12px;
        padding-left: var(--spacing-4);
        padding-right: var(--spacing-4);
    }

    .case-card {
        position: relative;
        width: calc(100vw - 48px);
        max-width: none;
        aspect-ratio: auto;
        padding: 0;
        border-radius: 0;
        background: transparent !important;
        flex-direction: column;
        justify-content: flex-start;
        overflow: visible;
        border: none;
    }

    .case-card::before {
        display: none;
    }

    .case-card-image {
        display: block !important;
        width: 100%;
        aspect-ratio: 4 / 5;
        border-radius: 16px;
        background-size: cover;
        background-position: center;
        flex-shrink: 0;
        position: relative;
    }

    .case-card-content {
        padding: var(--spacing-3) 0 0 0;
        margin-bottom: 0;
        background: transparent;
    }

    .case-label {
        font-size: var(--font-size-sm);
        margin-bottom: var(--spacing-1);
        color: var(--text-secondary);
        opacity: 1;
        text-transform: uppercase;
        letter-spacing: 0.08em;
    }

    .case-title {
        font-size: var(--font-size-xl);
        line-height: 1.35;
        margin-bottom: var(--spacing-2);
        color: var(--text-primary);
        font-weight: var(--font-weight-medium);
    }

    .case-excerpt {
        font-size: var(--font-size-lg);
        line-height: 1.7;
        margin-bottom: var(--spacing-2);
        color: var(--text-secondary);
        -webkit-line-clamp: 2;
    }

    .case-meta {
        display: flex;
        font-size: var(--font-size-sm);
        color: var(--text-tertiary);
    }

    .case-card-lock {
        top: 16px;
        right: 16px;
        width: 28px;
        height: 28px;
    }
}

/* Extra small (≤360px) */
@media (max-width: 360px) {
    .case-carousel-track {
        padding-left: var(--spacing-3);
        padding-right: var(--spacing-3);
        gap: 12px;
    }
    .case-card { width: 80vw; }
    .case-title { font-size: var(--font-size-sm); }
}

.section-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 var(--spacing-4); margin-bottom: 0;
}
.section-header h2 { font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); letter-spacing: -0.02em; }
.btn-tertiary {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: var(--font-size-sm); font-weight: var(--font-weight-semibold);
    color: var(--btn-primary-bg); background: none; border: none; cursor: pointer;
    padding: var(--spacing-2) var(--spacing-4); border-radius: var(--radius-md);
    font-family: inherit;
}
</style>
<!-- Import the actual tab bar CSS -->
<link rel="stylesheet" href="assets/css/partials/_mobile-tab-bar.css">
</head>
<body>

<!-- Simulated Header -->
<header class="site-header">
    <img src="assets/images/logo.png" alt="BFLUXCO" style="height: 28px; width: auto; margin-right: 8px;">
    <span class="logo">Big Freight Life <span class="logo-sub">Ray Butler</span></span>
</header>

<!-- Simulated Page Content -->
<section class="hero-section">
    <h1>People are our secret weapon.</h1>
    <p>We design scalable systems that make complexity visible and enable confident decisions.</p>
    <a href="#" class="btn-primary">Transform My Team</a>
</section>

<!-- Principles Section -->
<section id="principles" class="content-section" style="border-bottom: none; text-align: center; padding: var(--spacing-16) var(--spacing-4);">
    <h2 style="font-size: clamp(1.75rem, 4vw, 2.5rem); line-height: 1.3;">AI is not a feature.<br>Design is not decoration.</h2>
    <p style="max-width: 600px; margin: 0 auto var(--spacing-4); font-size: var(--font-size-lg); line-height: 1.7;">Behind every system are professionals navigating trade-offs, exceptions, and consequences. Our work starts there.</p>
    <p style="max-width: 600px; margin: 0 auto var(--spacing-4); font-size: var(--font-size-lg); line-height: 1.7;">We focus on the conditions that shape real decisions: fragmented tools, evolving rules, and outcomes that compound over time. As AI reshapes work, we extend human capability.</p>
    <p style="max-width: 600px; margin: 0 auto; font-weight: var(--font-weight-bold); color: var(--text-primary); font-size: var(--font-size-lg); line-height: 1.7;">Anyone can build something. Few know what to build and why.</p>
</section>

<!-- Case Studies Carousel -->
<section style="padding: var(--spacing-6) 0 var(--spacing-8); overflow: hidden;">
    <div class="section-header">
        <h2>Real work.<br>Real constraints.</h2>
        <button class="btn-tertiary">View All Work <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></button>
    </div>
    <div class="case-carousel">
        <div class="case-carousel-track">
            <!-- Card 1: Designing a Portfolio -->
            <a href="#" class="case-card" style="background-image: url('https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&q=80');">
                <div class="case-card-image" style="background-image: url('https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&q=80');"></div>
                <div class="case-card-content">
                    <span class="case-label">Creative Services</span>
                    <h3 class="case-title">Designing a Portfolio When Anyone Can Build Anything</h3>
                    <p class="case-excerpt">In a world where generative AI can produce websites in seconds, how d...</p>
                    <div class="case-meta"><span>2025</span></div>
                </div>
            </a>
            <!-- Card 2: Hyland OnBase -->
            <a href="#" class="case-card is-locked" style="background-image: url('https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&q=80');">
                <div class="case-card-image" style="background-image: url('https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&q=80');">
                    <span class="case-card-lock"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg></span>
                </div>
                <div class="case-card-content">
                    <span class="case-label">Enterprise Software</span>
                    <h3 class="case-title">Hyland OnBase Integration</h3>
                    <p class="case-excerpt">Enterprise document management meets Salesforce. Drag-and-drop content management with automatic indexing.</p>
                    <div class="case-meta"><span>2025</span></div>
                </div>
            </a>
            <!-- Card 3: Hyland for Workday -->
            <a href="#" class="case-card is-locked" style="background: linear-gradient(180deg, #0f172a, #1e293b);">
                <div class="case-card-image" style="background: linear-gradient(180deg, #0f172a, #1e293b);">
                    <span class="case-card-lock"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg></span>
                </div>
                <div class="case-card-content">
                    <span class="case-label">Enterprise Software</span>
                    <h3 class="case-title">Hyland for Workday Integration</h3>
                    <p class="case-excerpt">Unified content management embedded directly into Workday screens. No middleware. No custom code.</p>
                    <div class="case-meta"><span>2025</span></div>
                </div>
            </a>
            <!-- Card 4: Salesforce Migration -->
            <a href="#" class="case-card" style="background-image: url('https://images.unsplash.com/photo-1553877522-43269d4ea984?w=800&q=80');">
                <div class="case-card-image" style="background-image: url('https://images.unsplash.com/photo-1553877522-43269d4ea984?w=800&q=80');"></div>
                <div class="case-card-content">
                    <span class="case-label">Case Study</span>
                    <h3 class="case-title">Salesforce Migration Editorial</h3>
                    <p class="case-excerpt">Designed for clarity. Built for adoption. A unified platform transformation.</p>
                    <div class="case-meta"><span>2025</span></div>
                </div>
            </a>
        </div>
    </div>
</section>

<section id="services" class="content-section">
    <h2>Services</h2>
    <div class="content-card">
        <h3>Experience Design</h3>
        <p>End-to-end experience design across every touchpoint.</p>
    </div>
    <div class="content-card">
        <h3>GenAI Architecture</h3>
        <p>Strategic AI implementation for products and workflows.</p>
    </div>
</section>

<section class="content-section">
    <h2>About</h2>
    <p>Design strategist helping organizations navigate complexity and create meaningful solutions. Grounded in experience design and AI engineering for real-world complexity.</p>
    <p>Big Freight Life LLC is the creative studio and practice behind BFLUX.</p>
</section>

<section class="content-section" style="padding-bottom: var(--spacing-20);">
    <h2>Resources</h2>
    <div class="content-card">
        <h3>Designing for Decision Complexity</h3>
        <p>How to build systems that support confident decisions in uncertain environments.</p>
    </div>
    <div class="content-card">
        <h3>The AI-Human Handoff</h3>
        <p>Patterns for graceful transitions between automated and human-driven workflows.</p>
    </div>
</section>

<!-- Mobile Drawer Backdrop -->
<div class="mobile-drawer-backdrop" id="mobile-drawer-backdrop"></div>

<!-- Mobile Drawer -->
<div class="mobile-drawer" id="mobile-drawer" role="dialog" aria-modal="true" aria-hidden="true" aria-label="More menu">
    <div class="mobile-drawer-handle"></div>
    <div class="mobile-drawer-content">
        <!-- Navigation Links -->
        <nav class="mobile-drawer-nav" aria-label="Drawer Navigation">
            <ul class="mobile-drawer-list">
                <li class="mobile-drawer-item">
                    <a href="#" class="mobile-drawer-link">
                        <svg class="mobile-drawer-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/>
                            <line x1="3" y1="6" x2="21" y2="6"/>
                            <path d="M16 10a4 4 0 01-8 0"/>
                        </svg>
                        <span>Products</span>
                    </a>
                </li>
                <li class="mobile-drawer-item has-children">
                    <a href="#" class="mobile-drawer-link">
                        <svg class="mobile-drawer-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        <span>About</span>
                    </a>
                    <ul class="mobile-drawer-sublist">
                        <li class="mobile-drawer-subitem"><a href="#" class="mobile-drawer-sublink">Ray Butler</a></li>
                        <li class="mobile-drawer-subitem"><a href="#" class="mobile-drawer-sublink">Big Freight Life</a></li>
                    </ul>
                </li>
                <li class="mobile-drawer-item">
                    <a href="#" class="mobile-drawer-link">
                        <svg class="mobile-drawer-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <circle cx="12" cy="12" r="4"/>
                            <line x1="4.93" y1="4.93" x2="9.17" y2="9.17"/>
                            <line x1="14.83" y1="14.83" x2="19.07" y2="19.07"/>
                            <line x1="14.83" y1="9.17" x2="19.07" y2="4.93"/>
                            <line x1="4.93" y1="19.07" x2="9.17" y2="14.83"/>
                        </svg>
                        <span>Support</span>
                    </a>
                </li>
                <li class="mobile-drawer-item">
                    <a href="#" class="mobile-drawer-link">
                        <svg class="mobile-drawer-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="23 4 23 10 17 10"/>
                            <polyline points="1 20 1 14 7 14"/>
                            <path d="M3.51 9a9 9 0 0114.85-3.36L23 10"/>
                            <path d="M20.49 15a9 9 0 01-14.85 3.36L1 14"/>
                        </svg>
                        <span>Transformation</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Theme Toggle -->
        <div class="mobile-theme-toggle-section">
            <span class="mobile-theme-toggle-label">Appearance</span>
            <div class="mobile-theme-toggle" role="radiogroup" aria-label="Color theme">
                <button class="mobile-theme-toggle-btn" data-theme="light" role="radio" aria-checked="false">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <span>Light</span>
                </button>
                <button class="mobile-theme-toggle-btn" data-theme="system" role="radio" aria-checked="false">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                        <line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/>
                    </svg>
                    <span>System</span>
                </button>
                <button class="mobile-theme-toggle-btn" data-theme="dark" role="radio" aria-checked="false">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                    <span>Dark</span>
                </button>
            </div>
        </div>

        <!-- Utility Links -->
        <div class="mobile-drawer-utility">
            <a href="#" class="mobile-drawer-utility-link">Privacy</a>
            <a href="#" class="mobile-drawer-utility-link">Terms</a>
        </div>
    </div>
</div>

<!-- Mobile Tab Bar -->
<nav id="mobile-tab-bar" class="mobile-tab-bar" aria-label="Mobile Tab Bar">
    <a href="#" class="mobile-tab-bar__tab is-active" aria-current="page">
        <svg class="mobile-tab-bar__icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 10L10 3l7 7"/>
            <path d="M5 8.5V16a1 1 0 001 1h3v-4h2v4h3a1 1 0 001-1V8.5"/>
        </svg>
        <span class="mobile-tab-bar__label">Home</span>
    </a>
    <a href="#" class="mobile-tab-bar__tab">
        <svg class="mobile-tab-bar__icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="7" width="16" height="10" rx="1.5"/>
            <path d="M6 7V5a2 2 0 012-2h4a2 2 0 012 2v2"/>
            <path d="M2 11h16"/>
        </svg>
        <span class="mobile-tab-bar__label">Work</span>
    </a>
    <a href="#" class="mobile-tab-bar__tab">
        <svg class="mobile-tab-bar__icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="2" width="16" height="16" rx="1.5"/>
            <path d="M2 7h16"/>
            <path d="M9 7v11"/>
            <path d="M5 4.5h1"/>
            <path d="M12 10h3"/>
            <path d="M12 13h3"/>
        </svg>
        <span class="mobile-tab-bar__label">Blog</span>
    </a>
    <a href="#" class="mobile-tab-bar__tab">
        <svg class="mobile-tab-bar__icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="4" width="16" height="12" rx="1.5"/>
            <path d="M2 5.5L10 11l8-5.5"/>
        </svg>
        <span class="mobile-tab-bar__label">Contact</span>
    </a>
    <button type="button" class="mobile-tab-bar__tab mobile-tab-bar__tab--more" aria-expanded="false" aria-controls="mobile-drawer" aria-label="Toggle navigation menu">
        <svg class="mobile-tab-bar__icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 5h14"/>
            <path d="M3 10h14"/>
            <path d="M3 15h14"/>
        </svg>
        <span class="mobile-tab-bar__label">More</span>
    </button>
</nav>

<script>
(function() {
    'use strict';

    // --- Tab Bar Scroll Hide ---
    var tabBar = document.getElementById('mobile-tab-bar');
    var drawer = document.getElementById('mobile-drawer');
    var backdrop = document.getElementById('mobile-drawer-backdrop');
    var moreBtn = tabBar ? tabBar.querySelector('.mobile-tab-bar__tab--more') : null;
    var lastScrollY = window.scrollY;

    window.addEventListener('scroll', function() {
        var currentScrollY = window.scrollY;
        if (drawer && drawer.classList.contains('is-open')) { lastScrollY = currentScrollY; return; }
        if (currentScrollY < 64) { tabBar.classList.remove('is-hidden'); lastScrollY = currentScrollY; return; }
        if (currentScrollY > lastScrollY + 10) { tabBar.classList.add('is-hidden'); }
        else if (currentScrollY < lastScrollY - 5) { tabBar.classList.remove('is-hidden'); }
        lastScrollY = currentScrollY;
    }, { passive: true });

    // --- Drawer Toggle ---
    function openDrawer() {
        drawer.classList.add('is-open');
        backdrop.classList.add('is-open');
        drawer.setAttribute('aria-hidden', 'false');
        moreBtn.setAttribute('aria-expanded', 'true');
        document.body.style.overflow = 'hidden';
    }
    function closeDrawer() {
        drawer.classList.remove('is-open');
        backdrop.classList.remove('is-open');
        drawer.setAttribute('aria-hidden', 'true');
        moreBtn.setAttribute('aria-expanded', 'false');
        document.body.style.overflow = '';
    }

    moreBtn.addEventListener('click', function() {
        drawer.classList.contains('is-open') ? closeDrawer() : openDrawer();
    });
    backdrop.addEventListener('click', closeDrawer);
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && drawer.classList.contains('is-open')) { closeDrawer(); moreBtn.focus(); }
    });
    drawer.querySelectorAll('a').forEach(function(link) {
        link.addEventListener('click', function(e) { e.preventDefault(); setTimeout(closeDrawer, 100); });
    });

    // --- Theme Toggle ---
    var STORAGE_KEY = 'bfluxco-theme';
    var mobileButtons = document.querySelectorAll('.mobile-theme-toggle-btn');

    function applyTheme(theme) {
        if (theme === 'system') { document.documentElement.removeAttribute('data-theme'); }
        else { document.documentElement.setAttribute('data-theme', theme); }
    }
    function updateButtons(activeTheme) {
        mobileButtons.forEach(function(btn) {
            var isActive = btn.getAttribute('data-theme') === activeTheme;
            btn.classList.toggle('is-active', isActive);
            btn.setAttribute('aria-checked', isActive ? 'true' : 'false');
        });
    }

    var saved = localStorage.getItem(STORAGE_KEY) || 'light';
    applyTheme(saved);
    updateButtons(saved);

    mobileButtons.forEach(function(btn) {
        btn.addEventListener('click', function() {
            var theme = this.getAttribute('data-theme');
            localStorage.setItem(STORAGE_KEY, theme);
            applyTheme(theme);
            updateButtons(theme);
        });
    });

    // Auto-open drawer if URL has #open-drawer
    if (window.location.hash === '#open-drawer') {
        setTimeout(openDrawer, 500);
    }

    // Prevent link navigation in preview
    document.querySelectorAll('.mobile-tab-bar__tab[href]').forEach(function(link) {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelectorAll('.mobile-tab-bar__tab').forEach(function(t) {
                t.classList.remove('is-active');
                t.removeAttribute('aria-current');
            });
            this.classList.add('is-active');
            this.setAttribute('aria-current', 'page');
        });
    });
})();
</script>
</body>
</html>
